"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(e){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){};t(this,n),this.onMessage=o;var c="var __state__ = undefined",u="function setState(newState){__state__ = newState;}",f="function getState(){return __state__;}",l=a(i),v="(".concat(e,").call(this, {input: e.data, callback: postMessage, getState: getState, setState: setState})"),p="\n    ".concat(l,";\n    ").concat(c,";\n    ").concat(u,";\n    ").concat(f,";\n    self.onmessage=function(e){").concat(v,"};\n    "),_=new Blob([p],{type:"application/javascript"});this._nativeWorker=new Worker(URL.createObjectURL(_));var g=function(t){r.onMessage(t.data)};this._nativeWorker.onmessage=g,this._nativeWorker.onerror=s}var r,o,i;return r=n,(o=[{key:"postMessage",value:function(t,e){e?this._nativeWorker.postMessage(t,e):this._nativeWorker.postMessage(t)}},{key:"terminate",value:function(){this._nativeWorker.terminate()}}])&&e(r.prototype,o),i&&e(r,i),n}();function a(t){if(!(0!==t.length))return"";var e=t.map((function(t){return"'".concat(t,"'")})).join(",");return"importScripts(".concat(e,")")}exports.createWorker=function(t){return new n(t.workerFunction,t.onMessage,t.importScripts,t.onError)};
