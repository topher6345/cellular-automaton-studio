class t{constructor(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t=>{};this.onMessage=e;var o=function(t){if(0===t.length)return"";var e=t.map(t=>"'".concat(t,"'")).join(",");return"importScripts(".concat(e,")")}(n),r="(".concat(t,").call(this, {input: e.data, callback: postMessage, getState: getState, setState: setState})"),s="\n    ".concat(o,";\n    ").concat("var __state__ = undefined",";\n    ").concat("function setState(newState){__state__ = newState;}",";\n    ").concat("function getState(){return __state__;}",";\n    self.onmessage=function(e){").concat(r,"};\n    "),i=new Blob([s],{type:"application/javascript"});this._nativeWorker=new Worker(URL.createObjectURL(i));this._nativeWorker.onmessage=t=>{this.onMessage(t.data)},this._nativeWorker.onerror=a}postMessage(t,e){e?this._nativeWorker.postMessage(t,e):this._nativeWorker.postMessage(t)}terminate(){this._nativeWorker.terminate()}}function e(e){return new t(e.workerFunction,e.onMessage,e.importScripts,e.onError)}export{e as createWorker};
